<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Speaker Percentage Calculator</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <!-- React -->
  <script src="https://unpkg.com/react@18/umd/react.development.js" crossorigin></script>
  <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js" crossorigin></script>
  <script src="https://unpkg.com/babel-standalone@6/babel.min.js"></script>

  <style>
    body {
      font-family: Arial, sans-serif;
      background: #f8d3af;
      margin: 0;
      padding: 0;
    }

    .container {
      max-width: 900px;
      margin: auto;
      padding: 20px;
    }

    h1 {
      text-align: center;
    }

    .input-row {
      display: flex;
      gap: 10px;
      margin-bottom: 15px;
    }

    input {
      padding: 8px;
      font-size: 16px;
      flex: 1;
    }

    button {
      padding: 8px 12px;
      font-size: 16px;
      cursor: pointer;
      border: none;
      background: #444;
      color: white;
      border-radius: 4px;
    }

    button:hover {
      background: #222;
    }

    table {
      width: 100%;
      border-collapse: collapse;
      margin-top: 20px;
      background: white;
    }

    th, td {
      padding: 10px;
      border: 1px solid #ccc;
      text-align: center;
    }

    th {
      background: #eee;
    }

    .delete-btn {
      background: #c0392b;
    }

    .delete-btn:hover {
      background: #962d22;
    }

    .total {
      font-weight: bold;
      background: #fafafa;
    }
  </style>
</head>

<body>
  <div id="root"></div>

  <script type="text/babel">
    function App() {
      const [name, setName] = React.useState("");
      const [words, setWords] = React.useState("");
      const [speakers, setSpeakers] = React.useState([]);

      const totalWords = speakers.reduce((sum, s) => sum + s.words, 0);

      const addSpeaker = () => {
        if (!name || !words) return;

        setSpeakers([
          ...speakers,
          { id: Date.now(), name, words: Number(words) }
        ]);

        setName("");
        setWords("");
      };

      const removeSpeaker = (id) => {
        setSpeakers(speakers.filter(s => s.id !== id));
      };

      return (
        <div className="container">
          <h1>Speaker Percentage Calculator</h1>

          <div className="input-row">
            <input
              placeholder="Speaker Name"
              value={name}
              onChange={(e) => setName(e.target.value)}
            />
            <input
              type="number"
              placeholder="Word Count"
              value={words}
              onChange={(e) => setWords(e.target.value)}
            />
            <button onClick={addSpeaker}>Add</button>
          </div>

          <table>
            <thead>
              <tr>
                <th>Speaker</th>
                <th>Words</th>
                <th>Percent</th>
                <th>Remove</th>
              </tr>
            </thead>
            <tbody>
              {speakers.map(s => (
                <tr key={s.id}>
                  <td>{s.name}</td>
                  <td>{s.words}</td>
                  <td>
                    {totalWords > 0
                      ? ((s.words / totalWords) * 100).toFixed(1) + "%"
                      : "0.0%"}
                  </td>
                  <td>
                    <button
                      className="delete-btn"
                      onClick={() => removeSpeaker(s.id)}
                    >
                      âœ•
                    </button>
                  </td>
                </tr>
              ))}
              <tr className="total">
                <td>Total</td>
                <td>{totalWords}</td>
                <td>100.0%</td>
                <td></td>
              </tr>
            </tbody>
          </table>
        </div>
      );
    }

    const root = ReactDOM.createRoot(document.getElementById("root"));
    root.render(<App />);
  </script>
</body>
</html>
